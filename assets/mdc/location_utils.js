(function(){var f;function a(){return f.toString()}function d(){return f.clone()}function g(l){k(URI(l))}function c(l){j(URI(l))}function k(l){if(b()){l=e(l)}window.location.href=l.toString()}function j(l){if(b()){l=e(l)}window.parent.location.href=l.toString()}function h(){if(["http","https"].indexOf(f.scheme())!==-1){return false}if(/^file:.*applicationcache\/current/i.test(f.toString())){return false}return true}function b(){return h()&&navigator.userAgent.match(/(Windows Phone)|(MSAppHost)/i)}function i(m){var l=m.fragment();var o=l.indexOf("?");var n=(o>=0)?l.substr(0,o):l;var p=(o>=0)?l.substr(o):"";return m.clone().fragment(n).query(p)}function e(m){var l=m.fragment();var n=m.query();if(n){l=l+"?"+m.query()}return m.clone().fragment(l).query("")}f=URI();if(b()){f=i(f);window.location.hash=f.fragment()}window.locationUtils={isPPA:h,getHref:a,setHref:g,getURI:d,setURI:k,setParentHref:c,setParentURI:j}})();